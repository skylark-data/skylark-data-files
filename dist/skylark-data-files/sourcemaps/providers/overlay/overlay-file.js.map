{"version":3,"sources":["providers/overlay/overlay-file.js"],"names":["define","PreloadFile","[object Object]","fs","path","flag","stats","data","super","cb","this","isDirty","_fs","_syncAsync","err","resetDirty","_syncSync","sync","syncSync"],"mappings":";;;;;;;AAAAA,QACI,sBACD,SAAUC,GAkCT,qBA7B0BA,EACtBC,YAAYC,EAAIC,EAAMC,EAAMC,EAAOC,GAC/BC,MAAML,EAAIC,EAAMC,EAAMC,EAAOC,GAEjCL,KAAKO,GACIC,KAAKC,UAIVD,KAAKE,IAAIC,WAAWH,KAAOI,IACvBJ,KAAKK,aACLN,EAAGK,KALHL,EAAG,MAQXP,WACQQ,KAAKC,YACLD,KAAKE,IAAII,UAAUN,MACnBA,KAAKK,cAGbb,MAAMO,GACFC,KAAKO,KAAKR,GAEdP,YACIQ,KAAKQ","file":"../../../providers/overlay/overlay-file.js","sourcesContent":["define([\r\n    '../../preload-file'\r\n], function (PreloadFile) {\r\n\r\n    /**\r\n     * Overlays a RO file to make it writable.\r\n     */\r\n    class OverlayFile extends PreloadFile {\r\n        constructor(fs, path, flag, stats, data) {\r\n            super(fs, path, flag, stats, data);\r\n        }\r\n        sync(cb) {\r\n            if (!this.isDirty()) {\r\n                cb(null);\r\n                return;\r\n            }\r\n            this._fs._syncAsync(this, (err) => {\r\n                this.resetDirty();\r\n                cb(err);\r\n            });\r\n        }\r\n        syncSync() {\r\n            if (this.isDirty()) {\r\n                this._fs._syncSync(this);\r\n                this.resetDirty();\r\n            }\r\n        }\r\n        close(cb) {\r\n            this.sync(cb);\r\n        }\r\n        closeSync() {\r\n            this.syncSync();\r\n        }\r\n    }\r\n\r\n\r\n    return OverlayFile;\r\n});"]}